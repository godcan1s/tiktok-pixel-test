<!DOCTYPE html>
<html>
  <head>
    <!-- TikTok Pixel Code Start -->
    <script>
    !function (w, d, t) {
      w.TiktokAnalyticsObject = t;
      var ttq = w[t] = w[t] || [];
      ttq.methods = [
        "page", "track", "identify", "instances", "debug", "on", "off", "once",
        "ready", "alias", "group", "enableCookie", "disableCookie", "holdConsent",
        "revokeConsent", "grantConsent"
      ];
      ttq.setAndDefer = function (t, e) {
        t[e] = function () {
          t.push([e].concat(Array.prototype.slice.call(arguments, 0)));
        }
      };
      for (var i = 0; i < ttq.methods.length; i++) ttq.setAndDefer(ttq, ttq.methods[i]);
      ttq.instance = function (t) {
        for (var e = ttq._i[t] || [], n = 0; n < ttq.methods.length; n++) ttq.setAndDefer(e, ttq.methods[n]);
        return e
      };
      ttq.load = function (e, n) {
        var r = "https://analytics.tiktok.com/i18n/pixel/events.js", o = n && n.partner;
        ttq._i = ttq._i || {}, ttq._i[e] = [], ttq._i[e]._u = r, ttq._t = ttq._t || {}, ttq._t[e] = +new Date, ttq._o = ttq._o || {}, ttq._o[e] = n || {};
        n = document.createElement("script");
        n.type = "text/javascript", n.async = !0, n.src = r + "?sdkid=" + e + "&lib=" + t;
        e = document.getElementsByTagName("script")[0];
        e.parentNode.insertBefore(n, e)
      };

      ttq.load('D269Q73C77UCI3DBP9I0');
      ttq.page(); // PageView
    }(window, document, 'ttq');
    </script>
    <!-- TikTok Pixel Code End -->
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 40px;
        background: #fafaff;
      }
      .btn {
        display: block;
        margin: 24px 0;
        padding: 16px 32px;
        font-size: 18px;
        border: none;
        border-radius: 8px;
        background: #161823;
        color: #fff;
        cursor: pointer;
        transition: background 0.2s;
      }
      .btn:hover {
        background: #444459;
      }
    </style>
  </head>
  <body>
    <h2>Тест TikTok Pixel (реальные события через кнопки)</h2>
    <p>Нажимай кнопки по очереди с паузами (3–5 секунд между кликами):</p>
    <button class="btn" onclick="leadEvent()">Оформить заявку (Lead)</button>
    <button class="btn" onclick="purchaseEvent()">Купить (Purchase)</button>
    <button class="btn" onclick="scheduleEvent()">Записаться на встречу (Schedule)</button>
    <button class="btn" onclick="completeRegEvent()">Завершить регистрацию (CompleteRegistration)</button>
    <p>Проверь события в TikTok Pixel Helper и в Test Events TikTok.</p>

    <script>
      function leadEvent() {
        ttq.track('Lead');
        alert("Событие Lead отправлено");
      }
      function purchaseEvent() {
        ttq.track('Purchase');
        alert("Событие Purchase отправлено");
      }
      function scheduleEvent() {
        ttq.track('Schedule');
        alert("Событие Schedule отправлено");
      }
      function completeRegEvent() {
        ttq.track('CompleteRegistration');
        alert("Событие CompleteRegistration отправлено");
      }
    </script>
  </body>
</html>
